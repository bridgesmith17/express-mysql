<script>
document.addEventListener('DOMContentLoaded', displayTable);
//document.addEventListener('DOMContentLoaded', bindInsert);

  function displayTable(){
                var req = new XMLHttpRequest();
                req.open('GET', '/express-mysql/helloMysql.js', true);
                req.addEventListener('load',function(){
                    if(req.status >= 200 && req.status < 400){
                        var response = JSON.parse(req.responseText);
                        console.log(response);
                    } else {
                           console.log("Error in network request: " + request.statusText);
                    } 
                });
                   req.send(null);
                   event.preventDefault();
         
  }
/*  
  document.getElementByName('newSubmit').addEventListener('click', function(event){
    var req = new XMLHttpRequest();
    var payload = {name:null, reps:null};
    payload.name = document.getElementByName('name').value;
    payload.reps = document.getElementByName('reps').value;
    req.open('POST', express-mysql/helloMysql.js, true);
    req.setRequestHeader('Content-Type', 'application/json');
    req.addEventListener('load',function(){
      if(req.status >= 200 && req.status < 400){
        var response = JSON.parse(req.responseText);
        console.log(response);
      } else {
        console.log("Error in network request: " + request.statusText);
      }});
    req.send(JSON.stringify(payload));
    event.preventDefault();
  });
  
  */
</script>



<h1>Add New Exercise</h1>

<form method="post" name="exercise-form" >
    <p>Name:</p>
    <p><input type="text" name="name"></p>

    <p>Reps:</p>
    <p><input type="number" name="reps"></p>
    
    <p>Weight:</p>
    <p><input type="number" name="weight"></p>
    
    <p>Date:</p>
    <p><input type="text" name="date"></p>
    

    
    <div>
    <label for="lbs"> Measure in Pounds?</label>
    <select name="lbs">
        <option value="1" selected>True </option>
        <option value="0">False</option>
    </select>
  </div>
  <p><input type="submit" value="submit" name="newSubmit">
      
  </p>
</form>
-
<h1>List of Excercises</h1>

<table id="dataTable">
    <caption> My Exercises </caption>
    <thead>
        <th> Name </th>
        <th> Reps</th>
        <th> Weight </th>
        <th> Date (yyyy-mm-dd) </th>
        <th> Lbs (True) or Kgs(false) </th>
    </thead>
    <tbody>
        <tr>{{#each results}}
            <td>{{this.name}}
            <td>{{this.reps}}
            <td>{{this.weight}}
            <td>{{this.date}}
            <td>{{this.lbs}}
<!--            <td><form method="post" action="/update">
                        <p><input type="hidden" name="updateID" value="{{this.id}}"></p>
                        <p><input type="submit" name="update" value="Edit"</p>
                </form>
            <td><form method="post" >
                        <p><input type="hidden" name="deleteID" value="{{this.id}}"></p>
                        <p><input type="submit" name="delete" value="Delete"</p>
                </form>
    -->               
        
        </tr> {{/each}}
        
    </tbody>
</table>

